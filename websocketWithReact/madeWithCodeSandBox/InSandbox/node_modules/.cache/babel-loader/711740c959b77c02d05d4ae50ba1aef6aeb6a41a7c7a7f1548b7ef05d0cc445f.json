{"ast":null,"code":"import _slicedToArray from \"E:/BluBluPro/Learning-React.JS/websocketWithReact/madeWithCodeSandBox/InSandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"E:\\\\BluBluPro\\\\Learning-React.JS\\\\websocketWithReact\\\\madeWithCodeSandBox\\\\InSandbox\\\\src\\\\BasicWS.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport useWebSocket from \"react-use-websocket\";\nimport SignalSx from \"./SignalState\";\nimport { Container, Button, TextField } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar URL = \"ws://127.0.0.1:8000\";\n;\nvar _useWebSocket = useWebSocket(URL, {\n    onOpen: function onOpen() {\n      console.log(\"opened\");\n      setIsOpen(true);\n    },\n    shouldReconnect: function shouldReconnect(CloseEvent) {\n      return true;\n    }\n    //它用于判断当 WebSocket 连接关闭时是否应该尝试重新连接。\n  }),\n  sendMessage = _useWebSocket.sendMessage,\n  sendJsonMessage = _useWebSocket.sendJsonMessage,\n  lastMessage = _useWebSocket.lastMessage,\n  lastJsonMessage = _useWebSocket.lastJsonMessage,\n  readyState = _useWebSocket.readyState,\n  getWebSockete = _useWebSocket.getWebSockete;\nfunction TextForm() {\n  _s();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    text = _useState2[0],\n    setText = _useState2[1];\n  var handsubmit = function handsubmit() {\n    console.log(\"your wrote:\", text);\n    sendMessage(text);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      id: \"outlined-basic\",\n      label: \"Outlined\",\n      variant: \"outlined\",\n      value: text,\n      onChange: function onChange(e) {\n        setText(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"text\",\n      onClick: handsubmit,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(TextForm, \"3t0DFnMi16eB/7p7iIKtjG5r68g=\");\n_c = TextForm;\nfunction BasicWS() {\n  _s2();\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isOpen = _useState4[0],\n    setIsOpen = _useState4[1];\n\n  // const SendMsg = () => {\n  //   sendMessage(\"Hello SendMSG\");\n  // };\n  // const sendJsonMsg = () =>{\n  //     sendJsonMessage()\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Send msg into TouchDesigner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(SignalSx, {\n          color: isOpen ? 1 : 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"sm\",\n        children: /*#__PURE__*/_jsxDEV(TextForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s2(BasicWS, \"+sus0Lb0ewKHdwiUhiTAJFoFyQ0=\");\n_c2 = BasicWS;\nexport default BasicWS;\nvar _c, _c2;\n$RefreshReg$(_c, \"TextForm\");\n$RefreshReg$(_c2, \"BasicWS\");","map":{"version":3,"names":["React","useState","useWebSocket","SignalSx","Container","Button","TextField","jsxDEV","_jsxDEV","URL","_useWebSocket","onOpen","console","log","setIsOpen","shouldReconnect","CloseEvent","sendMessage","sendJsonMessage","lastMessage","lastJsonMessage","readyState","getWebSockete","TextForm","_s","_useState","_useState2","_slicedToArray","text","setText","handsubmit","children","fullWidth","id","label","variant","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","BasicWS","_s2","_useState3","_useState4","isOpen","maxWidth","color","_c2","$RefreshReg$"],"sources":["E:/BluBluPro/Learning-React.JS/websocketWithReact/madeWithCodeSandBox/InSandbox/src/BasicWS.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport useWebSocket from \"react-use-websocket\";\r\nimport SignalSx from \"./SignalState\";\r\nimport { Container, Button,TextField } from \"@mui/material\";\r\n\r\nconst URL = \"ws://127.0.0.1:8000\";;\r\nconst {\r\n  sendMessage,\r\n  sendJsonMessage,\r\n  lastMessage,\r\n  lastJsonMessage,\r\n  readyState,\r\n  getWebSockete,\r\n} = useWebSocket(URL, {\r\n  onOpen: () => {\r\n    console.log(\"opened\");\r\n    setIsOpen(true);\r\n  },\r\n\r\n  shouldReconnect: (CloseEvent) => true,\r\n  //它用于判断当 WebSocket 连接关闭时是否应该尝试重新连接。\r\n});\r\n\r\n\r\n\r\nfunction TextForm(){\r\n  const [text, setText] = useState(\"\");\r\n  const handsubmit = () =>{\r\n    console.log(\"your wrote:\",text);\r\n    sendMessage(text);\r\n  };\r\n  return(\r\n    <div>\r\n       <TextField  \r\n            fullWidth \r\n            id=\"outlined-basic\" \r\n            label=\"Outlined\" \r\n            variant=\"outlined\"\r\n            value={text}\r\n            onChange={(e) => {\r\n              setText(e.target.value);\r\n            }}\r\n            \r\n            \r\n            />\r\n      <Button variant=\"text\" onClick={handsubmit}>\r\n           Send\r\n      </Button>\r\n       </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nfunction BasicWS() {\r\n \r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n \r\n\r\n // const SendMsg = () => {\r\n //   sendMessage(\"Hello SendMSG\");\r\n // };\r\n// const sendJsonMsg = () =>{\r\n//     sendJsonMessage()\r\n// }\r\n\r\n  return (\r\n    <div>\r\n      <Container maxWidth=\"sm\"> \r\n       <span>\r\n       <h1>Send msg into TouchDesigner</h1>\r\n        <SignalSx color={isOpen ? 1 : 0} />\r\n        </span>\r\n      </Container>\r\n     \r\n    <div>\r\n    <Container maxWidth=\"sm\">\r\n    \r\n      <TextForm/>\r\n      \r\n    </Container>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BasicWS;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}