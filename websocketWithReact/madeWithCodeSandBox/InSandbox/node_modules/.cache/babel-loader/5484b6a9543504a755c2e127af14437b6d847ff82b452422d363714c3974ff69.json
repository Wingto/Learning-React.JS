{"ast":null,"code":"import _slicedToArray from \"E:/BluBluPro/Learning-React.JS/websocketWithReact/madeWithCodeSandBox/InSandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"E:\\\\BluBluPro\\\\Learning-React.JS\\\\websocketWithReact\\\\madeWithCodeSandBox\\\\InSandbox\\\\src\\\\BasicWS.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useWebSocket } from \"react-use-websocket\";\nimport SignalSx from \"./SignalState\";\nimport { Container, Button, TextField } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _useState = useState(false),\n  _useState2 = _slicedToArray(_useState, 2),\n  isOpen = _useState2[0],\n  setIsOpen = _useState2[1];\nvar URL = \"ws://127.0.0.1:8000\";\n;\nvar _useWebSocket = useWebSocket(URL, {\n    onOpen: function onOpen() {\n      console.log(\"opened\");\n      setIsOpen(true);\n    },\n    shouldReconnect: function shouldReconnect(CloseEvent) {\n      return true;\n    }\n    //它用于判断当 WebSocket 连接关闭时是否应该尝试重新连接。\n  }),\n  sendMessage = _useWebSocket.sendMessage,\n  sendJsonMessage = _useWebSocket.sendJsonMessage,\n  lastMessage = _useWebSocket.lastMessage,\n  lastJsonMessage = _useWebSocket.lastJsonMessage,\n  readyState = _useWebSocket.readyState,\n  getWebSockete = _useWebSocket.getWebSockete;\n\n// 将通用的参数定义在全局，方便修改和访问\n\nfunction TextForm() {\n  _s();\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    text = _useState4[0],\n    setText = _useState4[1];\n  var handsubmit = function handsubmit() {\n    console.log(\"your wrote:\", text);\n    sendMessage(text);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      id: \"outlined-basic\",\n      label: \"Outlined\",\n      variant: \"outlined\",\n      value: text,\n      onChange: function onChange(e) {\n        setText(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"text\",\n      onClick: handsubmit,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(TextForm, \"3t0DFnMi16eB/7p7iIKtjG5r68g=\");\n_c = TextForm;\nfunction BasicWS() {\n  // const SendMsg = () => {\n  //   sendMessage(\"Hello SendMSG\");\n  // };\n  // const sendJsonMsg = () =>{\n  //     sendJsonMessage()\n  // }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Send msg into TouchDesigner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(SignalSx, {\n          color: isOpen ? 1 : 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"sm\",\n        children: /*#__PURE__*/_jsxDEV(TextForm, {\n          sendMessage: sendMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_c2 = BasicWS;\nexport default BasicWS;\nvar _c, _c2;\n$RefreshReg$(_c, \"TextForm\");\n$RefreshReg$(_c2, \"BasicWS\");","map":{"version":3,"names":["React","useState","useWebSocket","SignalSx","Container","Button","TextField","jsxDEV","_jsxDEV","_useState","_useState2","_slicedToArray","isOpen","setIsOpen","URL","_useWebSocket","onOpen","console","log","shouldReconnect","CloseEvent","sendMessage","sendJsonMessage","lastMessage","lastJsonMessage","readyState","getWebSockete","TextForm","_s","_useState3","_useState4","text","setText","handsubmit","children","fullWidth","id","label","variant","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","BasicWS","maxWidth","color","_c2","$RefreshReg$"],"sources":["E:/BluBluPro/Learning-React.JS/websocketWithReact/madeWithCodeSandBox/InSandbox/src/BasicWS.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {useWebSocket} from \"react-use-websocket\";\r\nimport SignalSx from \"./SignalState\";\r\nimport { Container, Button,TextField } from \"@mui/material\";\r\n\r\n\r\nconst [isOpen, setIsOpen] = useState(false);\r\nconst URL = \"ws://127.0.0.1:8000\";;\r\nconst {\r\n  sendMessage,\r\n  sendJsonMessage,\r\n  lastMessage,\r\n  lastJsonMessage,\r\n  readyState,\r\n  getWebSockete,\r\n} = useWebSocket(URL, {\r\n  onOpen: () => {\r\n    console.log(\"opened\");\r\n\r\n    setIsOpen(true);\r\n  },\r\n\r\n  shouldReconnect: (CloseEvent) => true,\r\n  //它用于判断当 WebSocket 连接关闭时是否应该尝试重新连接。\r\n});\r\n\r\n// 将通用的参数定义在全局，方便修改和访问\r\n\r\n\r\n\r\n\r\nfunction TextForm(){\r\n  const [text, setText] = useState(\"\");\r\n  const handsubmit = () =>{\r\n    console.log(\"your wrote:\",text);\r\n    sendMessage(text);\r\n  };\r\n  return(\r\n    <div>\r\n       <TextField  \r\n            fullWidth \r\n            id=\"outlined-basic\" \r\n            label=\"Outlined\" \r\n            variant=\"outlined\"\r\n            value={text}\r\n            onChange={(e) => {\r\n              setText(e.target.value);\r\n            }}\r\n            \r\n            \r\n            />\r\n      <Button variant=\"text\" onClick={handsubmit}>\r\n           Send\r\n      </Button>\r\n       </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nfunction BasicWS() {\r\n \r\n\r\n // const SendMsg = () => {\r\n //   sendMessage(\"Hello SendMSG\");\r\n // };\r\n// const sendJsonMsg = () =>{\r\n//     sendJsonMessage()\r\n// }\r\n  return (\r\n    <div>\r\n      <Container maxWidth=\"sm\"> \r\n       <span>\r\n       <h1>Send msg into TouchDesigner</h1>\r\n        <SignalSx color={isOpen ? 1 : 0} />\r\n        </span>\r\n      </Container>\r\n     \r\n    <div>\r\n    <Container maxWidth=\"sm\">\r\n    \r\n      <TextForm sendMessage={sendMessage} />\r\n      \r\n    </Container>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BasicWS;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}