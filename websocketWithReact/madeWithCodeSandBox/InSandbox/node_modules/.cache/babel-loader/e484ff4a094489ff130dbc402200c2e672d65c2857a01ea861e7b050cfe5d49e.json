{"ast":null,"code":"import _slicedToArray from \"E:/BluBluPro/Learning-React.JS/websocketWithReact/madeWithCodeSandBox/InSandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"E:\\\\BluBluPro\\\\Learning-React.JS\\\\websocketWithReact\\\\madeWithCodeSandBox\\\\InSandbox\\\\src\\\\BasicWS.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport useWebSocket from \"react-use-websocket\";\nimport SignalSx from \"./SignalState\";\nimport { Container, Button, TextField } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TextForm() {\n  _s();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    text = _useState2[0],\n    setText = _useState2[1];\n  var handsubmit = function handsubmit() {\n    console.log(\"your wrote:\", text);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      id: \"outlined-basic\",\n      label: \"Outlined\",\n      variant: \"outlined\",\n      value: text,\n      onChange: function onChange(e) {\n        setText(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"text\",\n      onClick: handsubmit,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n}\n_s(TextForm, \"3t0DFnMi16eB/7p7iIKtjG5r68g=\");\n_c = TextForm;\nfunction BasicWS() {\n  _s2();\n  var URL = \"ws://127.0.0.1:8000\";\n  ;\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isOpen = _useState4[0],\n    setIsOpen = _useState4[1];\n  var _useWebSocket = useWebSocket(URL, {\n      onOpen: function onOpen() {\n        console.log(\"opened\");\n        setIsOpen(true);\n      },\n      shouldReconnect: function shouldReconnect(CloseEvent) {\n        return true;\n      }\n      //它用于判断当 WebSocket 连接关闭时是否应该尝试重新连接。\n    }),\n    sendMessage = _useWebSocket.sendMessage,\n    sendJsonMessage = _useWebSocket.sendJsonMessage,\n    lastMessage = _useWebSocket.lastMessage,\n    lastJsonMessage = _useWebSocket.lastJsonMessage,\n    readyState = _useWebSocket.readyState,\n    getWebSockete = _useWebSocket.getWebSockete;\n  var SendMsg = function SendMsg() {\n    sendMessage(\"Hello SendMSG\");\n  };\n  // const sendJsonMsg = () =>{\n  //     sendJsonMessage()\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Send msg into TouchDesigner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(SignalSx, {\n          color: isOpen ? 1 : 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"sm\",\n        children: /*#__PURE__*/_jsxDEV(TextForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s2(BasicWS, \"Z6wHE7umfyjibPG0Be9snQO6nSc=\", false, function () {\n  return [useWebSocket];\n});\n_c2 = BasicWS;\nexport default BasicWS;\nvar _c, _c2;\n$RefreshReg$(_c, \"TextForm\");\n$RefreshReg$(_c2, \"BasicWS\");","map":{"version":3,"names":["React","useState","useWebSocket","SignalSx","Container","Button","TextField","jsxDEV","_jsxDEV","TextForm","_s","_useState","_useState2","_slicedToArray","text","setText","handsubmit","console","log","children","fullWidth","id","label","variant","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","BasicWS","_s2","URL","_useState3","_useState4","isOpen","setIsOpen","_useWebSocket","onOpen","shouldReconnect","CloseEvent","sendMessage","sendJsonMessage","lastMessage","lastJsonMessage","readyState","getWebSockete","SendMsg","maxWidth","color","_c2","$RefreshReg$"],"sources":["E:/BluBluPro/Learning-React.JS/websocketWithReact/madeWithCodeSandBox/InSandbox/src/BasicWS.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport useWebSocket from \"react-use-websocket\";\r\nimport SignalSx from \"./SignalState\";\r\nimport { Container, Button,TextField } from \"@mui/material\";\r\n\r\n\r\nfunction TextForm(){\r\n  const [text, setText] = useState(\"\");\r\n  const handsubmit = () =>{\r\n    console.log(\"your wrote:\",text);\r\n  };\r\n  return(\r\n    <div>\r\n       <TextField  \r\n            fullWidth \r\n            id=\"outlined-basic\" \r\n            label=\"Outlined\" \r\n            variant=\"outlined\"\r\n            value={text}\r\n            onChange={(e) => {\r\n              setText(e.target.value);\r\n            }}\r\n            \r\n            \r\n            />\r\n      <Button variant=\"text\" onClick={handsubmit}>\r\n           Send\r\n      </Button>\r\n       </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nfunction BasicWS() {\r\n  const URL = \"ws://127.0.0.1:8000\";;\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const {\r\n    sendMessage,\r\n    sendJsonMessage,\r\n    lastMessage,\r\n    lastJsonMessage,\r\n    readyState,\r\n    getWebSockete,\r\n  } = useWebSocket(URL, {\r\n    onOpen: () => {\r\n      console.log(\"opened\");\r\n      setIsOpen(true);\r\n    },\r\n\r\n    shouldReconnect: (CloseEvent) => true,\r\n    //它用于判断当 WebSocket 连接关闭时是否应该尝试重新连接。\r\n  });\r\n\r\n  const SendMsg = () => {\r\n    sendMessage(\"Hello SendMSG\");\r\n  };\r\n// const sendJsonMsg = () =>{\r\n//     sendJsonMessage()\r\n// }\r\n\r\n  return (\r\n    <div>\r\n      <Container maxWidth=\"sm\"> \r\n       <span>\r\n       <h1>Send msg into TouchDesigner</h1>\r\n        <SignalSx color={isOpen ? 1 : 0} />\r\n        </span>\r\n      </Container>\r\n     \r\n    <div>\r\n    <Container maxWidth=\"sm\">\r\n    \r\n      <TextForm/>\r\n      \r\n    </Container>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BasicWS;\r\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,QAAQ,MAAM,eAAe;AACpC,SAASC,SAAS,EAAEC,MAAM,EAACC,SAAS,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG5D,SAASC,QAAQA,CAAA,EAAE;EAAAC,EAAA;EACjB,IAAAC,SAAA,GAAwBV,QAAQ,CAAC,EAAE,CAAC;IAAAW,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA7BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EACpB,IAAMI,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAQ;IACtBC,OAAO,CAACC,GAAG,CAAC,aAAa,EAACJ,IAAI,CAAC;EACjC,CAAC;EACD,oBACEN,OAAA;IAAAW,QAAA,gBACGX,OAAA,CAACF,SAAS;MACLc,SAAS;MACTC,EAAE,EAAC,gBAAgB;MACnBC,KAAK,EAAC,UAAU;MAChBC,OAAO,EAAC,UAAU;MAClBC,KAAK,EAAEV,IAAK;MACZW,QAAQ,EAAE,SAAAA,SAACC,CAAC,EAAK;QACfX,OAAO,CAACW,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;MACzB;IAAE;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGD,CAAC,eACRvB,OAAA,CAACH,MAAM;MAACkB,OAAO,EAAC,MAAM;MAACS,OAAO,EAAEhB,UAAW;MAAAG,QAAA,EAAC;IAE5C;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAGb;AAACrB,EAAA,CAzBQD,QAAQ;AAAAwB,EAAA,GAARxB,QAAQ;AA4BjB,SAASyB,OAAOA,CAAA,EAAG;EAAAC,GAAA;EACjB,IAAMC,GAAG,GAAG,qBAAqB;EAAC;EAElC,IAAAC,UAAA,GAA4BpC,QAAQ,CAAC,KAAK,CAAC;IAAAqC,UAAA,GAAAzB,cAAA,CAAAwB,UAAA;IAApCE,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EAExB,IAAAG,aAAA,GAOIvC,YAAY,CAACkC,GAAG,EAAE;MACpBM,MAAM,EAAE,SAAAA,OAAA,EAAM;QACZzB,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrBsB,SAAS,CAAC,IAAI,CAAC;MACjB,CAAC;MAEDG,eAAe,EAAE,SAAAA,gBAACC,UAAU;QAAA,OAAK,IAAI;MAAA;MACrC;IACF,CAAC,CAAC;IAdAC,WAAW,GAAAJ,aAAA,CAAXI,WAAW;IACXC,eAAe,GAAAL,aAAA,CAAfK,eAAe;IACfC,WAAW,GAAAN,aAAA,CAAXM,WAAW;IACXC,eAAe,GAAAP,aAAA,CAAfO,eAAe;IACfC,UAAU,GAAAR,aAAA,CAAVQ,UAAU;IACVC,aAAa,GAAAT,aAAA,CAAbS,aAAa;EAWf,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;IACpBN,WAAW,CAAC,eAAe,CAAC;EAC9B,CAAC;EACH;EACA;EACA;;EAEE,oBACErC,OAAA;IAAAW,QAAA,gBACEX,OAAA,CAACJ,SAAS;MAACgD,QAAQ,EAAC,IAAI;MAAAjC,QAAA,eACvBX,OAAA;QAAAW,QAAA,gBACAX,OAAA;UAAAW,QAAA,EAAI;QAA2B;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnCvB,OAAA,CAACL,QAAQ;UAACkD,KAAK,EAAEd,MAAM,GAAG,CAAC,GAAG;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAEdvB,OAAA;MAAAW,QAAA,eACAX,OAAA,CAACJ,SAAS;QAACgD,QAAQ,EAAC,IAAI;QAAAjC,QAAA,eAEtBX,OAAA,CAACC,QAAQ;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEH,CAAC;AAEV;AAACI,GAAA,CAhDQD,OAAO;EAAA,QAYVhC,YAAY;AAAA;AAAAoD,GAAA,GAZTpB,OAAO;AAkDhB,eAAeA,OAAO;AAAC,IAAAD,EAAA,EAAAqB,GAAA;AAAAC,YAAA,CAAAtB,EAAA;AAAAsB,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}