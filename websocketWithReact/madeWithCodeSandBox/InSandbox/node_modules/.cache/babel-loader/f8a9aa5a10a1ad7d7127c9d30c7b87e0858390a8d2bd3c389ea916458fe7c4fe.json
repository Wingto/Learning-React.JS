{"ast":null,"code":"import _slicedToArray from \"E:/BluBluPro/Learning-React.JS/websocketWithReact/madeWithCodeSandBox/InSandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"E:\\\\BluBluPro\\\\Learning-React.JS\\\\websocketWithReact\\\\madeWithCodeSandBox\\\\InSandbox\\\\src\\\\BasicWS.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport useWebSocket from \"react-use-websocket\";\nimport SignalSx from \"./SignalState\";\nimport { Button } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BasicWS() {\n  _s();\n  var URL = \"ws://127.0.0.1:8000\";\n  ;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isOpen = _useState2[0],\n    setIsOpen = _useState2[1];\n  var _useWebSocket = useWebSocket(URL, {\n      onOpen: function onOpen() {\n        console.log(\"opened\");\n        setIsOpen(true);\n      },\n      shouldReconnect: function shouldReconnect(CloseEvent) {\n        return true;\n      }\n      //它用于判断当 WebSocket 连接关闭时是否应该尝试重新连接。\n    }),\n    sendMessage = _useWebSocket.sendMessage,\n    sendJsonMessage = _useWebSocket.sendJsonMessage,\n    lastMessage = _useWebSocket.lastMessage,\n    lastJsonMessage = _useWebSocket.lastJsonMessage,\n    readyState = _useWebSocket.readyState,\n    getWebSockete = _useWebSocket.getWebSockete;\n  var SendMsg = function SendMsg() {\n    sendMessage(\"Hello SendMSG\");\n  };\n  var sendJsonMsg = function sendJsonMsg() {\n    sendJsonMessage();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Send msg via websocket into TouchDesigner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"text\",\n      cnClick: SendMsg,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SignalSx, {\n      color: isOpen ? 1 : 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(BasicWS, \"Z6wHE7umfyjibPG0Be9snQO6nSc=\", false, function () {\n  return [useWebSocket];\n});\n_c = BasicWS;\nexport default BasicWS;\nvar _c;\n$RefreshReg$(_c, \"BasicWS\");","map":{"version":3,"names":["React","useState","useWebSocket","SignalSx","Button","jsxDEV","_jsxDEV","BasicWS","_s","URL","_useState","_useState2","_slicedToArray","isOpen","setIsOpen","_useWebSocket","onOpen","console","log","shouldReconnect","CloseEvent","sendMessage","sendJsonMessage","lastMessage","lastJsonMessage","readyState","getWebSockete","SendMsg","sendJsonMsg","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","cnClick","color","_c","$RefreshReg$"],"sources":["E:/BluBluPro/Learning-React.JS/websocketWithReact/madeWithCodeSandBox/InSandbox/src/BasicWS.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport useWebSocket from \"react-use-websocket\";\r\nimport SignalSx from \"./SignalState\";\r\nimport { Button } from \"@mui/material\";\r\n\r\nfunction BasicWS() {\r\n  const URL = \"ws://127.0.0.1:8000\";;\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const {\r\n    sendMessage,\r\n    sendJsonMessage,\r\n    lastMessage,\r\n    lastJsonMessage,\r\n    readyState,\r\n    getWebSockete,\r\n  } = useWebSocket(URL, {\r\n    onOpen: () => {\r\n      console.log(\"opened\");\r\n      setIsOpen(true);\r\n    },\r\n\r\n    shouldReconnect: (CloseEvent) => true,\r\n    //它用于判断当 WebSocket 连接关闭时是否应该尝试重新连接。\r\n  });\r\n\r\n  const SendMsg = () => {\r\n    sendMessage(\"Hello SendMSG\");\r\n  };\r\n  const sendJsonMsg = () =>{\r\n      sendJsonMessage()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Send msg via websocket into TouchDesigner</h1>\r\n      <Button variant=\"text\" cnClick={SendMsg}>\r\n        Send\r\n      </Button>\r\n      <SignalSx color={isOpen ? 1 : 0} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BasicWS;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,QAAQ,MAAM,eAAe;AACpC,SAASC,MAAM,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACjB,IAAMC,GAAG,GAAG,qBAAqB;EAAC;EAElC,IAAAC,SAAA,GAA4BT,QAAQ,CAAC,KAAK,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAApCG,MAAM,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EAExB,IAAAI,aAAA,GAOIb,YAAY,CAACO,GAAG,EAAE;MACpBO,MAAM,EAAE,SAAAA,OAAA,EAAM;QACZC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrBJ,SAAS,CAAC,IAAI,CAAC;MACjB,CAAC;MAEDK,eAAe,EAAE,SAAAA,gBAACC,UAAU;QAAA,OAAK,IAAI;MAAA;MACrC;IACF,CAAC,CAAC;IAdAC,WAAW,GAAAN,aAAA,CAAXM,WAAW;IACXC,eAAe,GAAAP,aAAA,CAAfO,eAAe;IACfC,WAAW,GAAAR,aAAA,CAAXQ,WAAW;IACXC,eAAe,GAAAT,aAAA,CAAfS,eAAe;IACfC,UAAU,GAAAV,aAAA,CAAVU,UAAU;IACVC,aAAa,GAAAX,aAAA,CAAbW,aAAa;EAWf,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;IACpBN,WAAW,CAAC,eAAe,CAAC;EAC9B,CAAC;EACD,IAAMO,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAQ;IACrBN,eAAe,CAAC,CAAC;EACrB,CAAC;EAED,oBACEhB,OAAA;IAAAuB,QAAA,gBACEvB,OAAA;MAAAuB,QAAA,EAAI;IAAyC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClD3B,OAAA,CAACF,MAAM;MAAC8B,OAAO,EAAC,MAAM;MAACC,OAAO,EAAER,OAAQ;MAAAE,QAAA,EAAC;IAEzC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACT3B,OAAA,CAACH,QAAQ;MAACiC,KAAK,EAAEvB,MAAM,GAAG,CAAC,GAAG;IAAE;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChC,CAAC;AAEV;AAACzB,EAAA,CAtCQD,OAAO;EAAA,QAYVL,YAAY;AAAA;AAAAmC,EAAA,GAZT9B,OAAO;AAwChB,eAAeA,OAAO;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}