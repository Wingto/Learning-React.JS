<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>AxiosPost</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
    

    function AxiosGET(){
          axios.get('https://reqres.in/api/users?page=2')

          .then(function (response) {
            console.log(response.data.data);
            console.log(response.data);
          })
          .catch(function (error) {
            console.log(error);
          })
          .finally(function(){
            console.log("finally");
          });
        return(

          <button onClick={AxiosGET}>
                  GET DATA
                  </button>
        );

        }
    function AxiosPOST(){
          axios.post('https://reqres.in/api/users',{
            'name' : 'wingto',
            'job' : 'developer'
          }
          )

          .then(function (response) {
            console.log(response);
            console.log(response.data);
          })
          .catch(function (error) {
            console.log(error);
          })
          .finally(function(){
            console.log("finally");
          });

          return(

            <button onClick={AxiosPOST}>
                  POST DATA
              </button>
          );
        }
    function AxiosPUT(){

        const[name,setName] = React.useState("");
        const[job,setJob] = React.useState("");


        const handleSubmit = (msg) =>{
          msg.preventDefault();
          axios.put('https://reqres.in/api/users/2',{
            'name' : name,
            'job' : job,
          }
          )

          .then(function (response) {
            console.log(response);
            console.log(response.data);
          })
          .catch(function (error) {
            console.log(error);
          })
          .finally(function(){
            console.log("finally");
          });


        }
        return(      
        
              
              <form >
   
                 <label for="inputDATA">请输入名字</label>
                   <input  type="text"
                           id="inputDATA" 
                           value={name}
                           onChange = {(msg)=>setName(msg.target.value)}></input>
                           
                  
                <label for="inputDATA">请输入职业</label>
                   <input type="text" 
                          id="inputDATA" 
                          value={job}
                          onChange = {(msg)=>setJob(msg.target.value)}></input>
   
                <button type="submit" onClick={handleSubmit}>PUT DATA</button>

             </form>
        )
                    
                  
                
      };


    function MyApp() {

        //AxiosGET();
          return (
            <div>
              <h1>Hello, world! </h1>

              <div>
             <AxiosGET  />
                </div>
           <div>
              <AxiosPOST/>
        
            </div> 
            <div>
              <AxiosPUT/>
            </div>
              
            
            </div>

          );
      }

      const container = document.getElementById('root');
      const root = ReactDOM.createRoot(container);
      root.render(<MyApp />);

    </script>
    <!--
      Note: this page is a great way to try React but it's not suitable for production.
      It slowly compiles JSX with Babel in the browser and uses a large development build of React.

      Read this page for starting a new React project with JSX:
      https://react.dev/learn/start-a-new-react-project

      Read this page for adding React with JSX to an existing project:
      https://react.dev/learn/add-react-to-an-existing-project
    -->
  </body>
</html>